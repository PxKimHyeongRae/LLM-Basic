"""
수동 학습 데이터 생성 스크립트
Claude Code가 직접 전광판 메시지 학습 데이터를 생성합니다.
"""

import json
import random
import os


def generate_training_data():
    """
    공원 전광판 메시지 학습 데이터 생성
    """
    dataset = []

    # 1. 온도 기반 메시지 (40개)
    temperature_data = [
        # 폭염
        {"input": "온도 38도 폭염", "output": "오늘 폭염주의보가 발령되었습니다. 야외활동 시 물을 충분히 드세요."},
        {"input": "기온 37도 매우 더움", "output": "매우 더운 날씨입니다. 그늘에서 자주 휴식하시고 수분을 섭취하세요."},
        {"input": "온도 36도 무더위", "output": "무더운 날씨가 계속됩니다. 장시간 야외활동을 자제해 주세요."},
        {"input": "온도 35도 더위", "output": "오늘도 더운 날씨입니다. 시원한 음료를 준비하시고 햇볕을 피해주세요."},
        {"input": "기온 34도 여름", "output": "여름 더위가 기승입니다. 공원 내 그늘에서 쉬어가세요."},

        # 따뜻함
        {"input": "온도 28도 따뜻함", "output": "따뜻하고 쾌적한 날씨입니다. 산책하기 좋은 하루예요."},
        {"input": "기온 26도 좋음", "output": "날씨가 화창합니다. 가족과 함께 공원을 즐기세요."},
        {"input": "온도 25도 쾌적", "output": "쾌적한 날씨입니다. 편안한 마음으로 공원을 거닐어보세요."},
        {"input": "온도 23도 봄날", "output": "봄날처럼 포근합니다. 산책하며 자연을 느껴보세요."},
        {"input": "기온 24도 화창", "output": "화창한 날씨입니다. 운동하기 좋은 날이에요."},

        # 선선함
        {"input": "온도 18도 선선함", "output": "선선한 날씨입니다. 가벼운 겉옷을 준비하시면 좋겠습니다."},
        {"input": "기온 17도 가을", "output": "가을 날씨처럼 선선합니다. 긴팔 옷을 챙기세요."},
        {"input": "온도 16도 시원", "output": "시원한 날씨입니다. 산책하기 딱 좋은 기온이에요."},
        {"input": "온도 15도 쌀쌀", "output": "조금 쌀쌀합니다. 얇은 외투를 준비하시면 좋습니다."},
        {"input": "기온 14도 차가움", "output": "다소 차가운 날씨입니다. 따뜻하게 입고 나오세요."},

        # 추위
        {"input": "온도 8도 추움", "output": "쌀쌀한 날씨입니다. 두꺼운 옷을 입고 외출하세요."},
        {"input": "기온 5도 강추위", "output": "매우 추운 날씨입니다. 방한에 유의하시고 체온 유지에 신경 쓰세요."},
        {"input": "온도 3도 겨울", "output": "추운 겨울 날씨입니다. 장갑과 목도리를 꼭 챙기세요."},
        {"input": "온도 0도 영하직전", "output": "영하권 기온입니다. 야외활동 시 방한에 각별히 주의하세요."},
        {"input": "기온 -3도 한파", "output": "한파가 찾아왔습니다. 외출 시 따뜻하게 입으시고 동상을 조심하세요."},
        {"input": "온도 -5도 혹한", "output": "혹한의 날씨입니다. 노약자와 어린이는 외출을 자제해 주세요."},

        # 일교차
        {"input": "아침 10도 낮 25도 일교차", "output": "일교차가 큽니다. 아침저녁으로 옷을 따뜻하게 입으세요."},
        {"input": "오전 12도 오후 28도 기온차", "output": "기온 차가 크니 체온 조절에 신경 쓰시고 감기 조심하세요."},
        {"input": "아침 5도 낮 20도 큰차이", "output": "아침저녁으로 기온 차가 매우 큽니다. 겉옷을 꼭 챙기세요."},
        {"input": "새벽 8도 낮 23도", "output": "새벽과 낮의 기온 차가 큽니다. 외출 시 간편한 외투를 준비하세요."},
    ]

    # 2. 습도 기반 메시지 (20개)
    humidity_data = [
        {"input": "습도 90% 매우습함", "output": "습도가 매우 높습니다. 통풍이 잘 되는 곳에서 휴식하세요."},
        {"input": "습도 85% 불쾌", "output": "습한 날씨로 불쾌지수가 높습니다. 수분 섭취를 충분히 하세요."},
        {"input": "습도 80% 찜통", "output": "찜통같은 날씨입니다. 시원한 그늘에서 자주 쉬어가세요."},
        {"input": "습도 75% 습함", "output": "습한 날씨입니다. 가벼운 옷을 입고 활동하시면 좋습니다."},
        {"input": "습도 50% 쾌적", "output": "쾌적한 습도입니다. 야외활동하기 좋은 날씨예요."},
        {"input": "습도 40% 적당", "output": "적당한 습도를 유지하고 있습니다. 편안한 시간 되세요."},
        {"input": "습도 25% 건조", "output": "공기가 건조합니다. 물을 자주 마시고 보습에 신경 쓰세요."},
        {"input": "습도 20% 매우건조", "output": "매우 건조한 날씨입니다. 피부 보습과 수분 섭취에 유의하세요."},
        {"input": "습도 15% 극건조", "output": "극도로 건조합니다. 충분한 수분 섭취와 보습제 사용을 권장합니다."},
    ]

    # 3. 온도+습도 복합 (15개)
    combined_data = [
        {"input": "온도 32도 습도 80% 무더위", "output": "무더운 찜통 날씨입니다. 장시간 야외활동을 피하고 수분을 충분히 섭취하세요."},
        {"input": "온도 30도 습도 75% 더위", "output": "덥고 습한 날씨입니다. 그늘에서 자주 휴식하시고 열사병을 조심하세요."},
        {"input": "온도 5도 습도 85% 체감추위", "output": "춥고 습한 날씨로 체감온도가 더 낮습니다. 두꺼운 옷을 입으세요."},
        {"input": "온도 28도 습도 85% 불쾌", "output": "불쾌지수가 높은 날씨입니다. 시원한 장소에서 휴식을 취하세요."},
        {"input": "온도 15도 습도 25% 건조", "output": "선선하고 건조한 날씨입니다. 수분 섭취를 충분히 하세요."},
    ]

    # 4. 변위계/안전 관련 (15개)
    safety_data = [
        {"input": "X축 각도 3도 이상 감지", "output": "시설물 점검 중입니다. 안전을 위해 통제 구역 출입을 자제해 주세요."},
        {"input": "Y축 각도 4도 기울기", "output": "구조물 안전점검이 진행 중입니다. 주변 시설 이용에 주의하세요."},
        {"input": "변위계 이상 신호", "output": "안전점검이 진행 중입니다. 점검 구역에는 출입하지 말아 주세요."},
        {"input": "시설물 모니터링 중", "output": "공원 시설물 정기 점검 중입니다. 이용에 불편을 드려 죄송합니다."},
        {"input": "구조물 점검 필요", "output": "시설 점검을 위해 일부 구역이 통제됩니다. 양해 부탁드립니다."},
        {"input": "미끄럼 주의", "output": "바닥이 미끄러울 수 있습니다. 천천히 걸으시고 넘어지지 않도록 조심하세요."},
        {"input": "낙상 위험", "output": "계단 이용 시 난간을 잡고 천천히 이동해 주세요."},
        {"input": "빗길 조심", "output": "비가 내려 바닥이 미끄럽습니다. 이동 시 각별히 주의하세요."},
    ]

    # 5. 일반 공원 안내 (30개)
    general_data = [
        {"input": "쓰레기 분리수거", "output": "쓰레기는 분리수거함에 버려주세요. 깨끗한 공원을 함께 만들어요."},
        {"input": "쓰레기 무단투기 금지", "output": "쓰레기 무단투기는 과태료 부과 대상입니다. 올바른 장소에 버려주세요."},
        {"input": "반려동물 동반", "output": "반려동물과 산책 시 목줄 착용은 필수입니다. 배변은 꼭 치워주세요."},
        {"input": "강아지 산책 에티켓", "output": "반려견 산책 시 배변봉투를 꼭 지참하시고 다른 이용객을 배려해 주세요."},
        {"input": "흡연 구역", "output": "흡연은 지정된 흡연구역에서만 가능합니다. 공원 내 금연에 협조해 주세요."},
        {"input": "금연 안내", "output": "공원은 금연구역입니다. 흡연은 지정된 장소에서만 해주세요."},
        {"input": "운동기구 이용", "output": "운동기구는 모두가 함께 사용합니다. 순서를 지켜 이용해 주세요."},
        {"input": "운동시설 안전", "output": "운동기구 이용 전 준비운동을 하시고 안전수칙을 지켜주세요."},
        {"input": "화장실 위치", "output": "화장실은 공원 중앙과 입구 양쪽에 위치해 있습니다."},
        {"input": "음수대 이용", "output": "음수대는 공원 곳곳에 설치되어 있습니다. 자유롭게 이용하세요."},
        {"input": "야간 운영시간", "output": "공원은 밤 10시까지 운영됩니다. 안전한 귀가 되세요."},
        {"input": "공원 운영 시간", "output": "공원은 새벽 5시부터 밤 10시까지 이용 가능합니다."},
        {"input": "자전거 도로", "output": "자전거는 지정된 도로에서만 이용해 주세요. 보행자의 안전을 지켜주세요."},
        {"input": "인라인 스케이트", "output": "인라인스케이트 이용 시 보호장구를 착용하고 보행자를 우선해 주세요."},
        {"input": "어린이 놀이터", "output": "어린이 놀이터는 보호자 동반 하에 이용해 주세요."},
        {"input": "놀이시설 안전", "output": "놀이시설 이용 시 아이들을 잘 살펴주시고 안전사고에 유의하세요."},
        {"input": "소음 자제", "output": "다른 이용객을 위해 큰 소리로 떠드는 것은 삼가주세요."},
        {"input": "음주 금지", "output": "공원 내 음주는 금지되어 있습니다. 깨끗한 공원 문화를 만들어요."},
        {"input": "텐트 설치", "output": "그늘막 텐트는 지정된 구역에만 설치 가능합니다."},
        {"input": "취사 행위", "output": "공원 내 취사 및 화기 사용은 금지되어 있습니다."},
    ]

    # 6. 계절별 특화 (20개)
    seasonal_data = [
        {"input": "봄 황사 주의", "output": "황사가 예상됩니다. 외출 시 마스크를 착용하시고 눈 보호에 유의하세요."},
        {"input": "봄 꽃가루 알레르기", "output": "꽃가루가 많이 날립니다. 알레르기가 있으신 분은 마스크를 착용하세요."},
        {"input": "봄 미세먼지", "output": "미세먼지 농도가 높습니다. 장시간 야외활동을 자제해 주세요."},
        {"input": "여름 폭염 대비", "output": "폭염이 계속됩니다. 낮 시간대 야외활동을 피하시고 그늘에서 쉬세요."},
        {"input": "여름 장마", "output": "장마철입니다. 우산을 준비하시고 미끄러운 바닥을 조심하세요."},
        {"input": "여름 태풍", "output": "태풍 특보가 발령되었습니다. 안전을 위해 실내로 대피하세요."},
        {"input": "여름 모기", "output": "모기가 많습니다. 긴 옷을 입거나 모기 기피제를 사용하세요."},
        {"input": "가을 단풍", "output": "아름다운 단풍을 감상하실 수 있습니다. 가족과 함께 공원을 거닐어보세요."},
        {"input": "가을 낙엽", "output": "낙엽이 쌓여 미끄러울 수 있습니다. 천천히 걸으며 가을 정취를 즐기세요."},
        {"input": "가을 독서의 계절", "output": "선선한 가을 날씨입니다. 벤치에 앉아 독서를 즐겨보세요."},
        {"input": "겨울 빙판길", "output": "빙판길을 조심하세요. 천천히 걸으시고 넘어지지 않도록 주의하세요."},
        {"input": "겨울 눈길", "output": "눈이 내려 미끄럽습니다. 계단 이용 시 난간을 꼭 잡으세요."},
        {"input": "겨울 한파", "output": "한파 특보가 발령되었습니다. 따뜻하게 입으시고 동상을 조심하세요."},
        {"input": "겨울 눈사람", "output": "눈이 왔습니다. 아이들과 함께 눈사람을 만들며 즐거운 시간 보내세요."},
    ]

    # 7. 긴급/재난 안내 (20개)
    emergency_data = [
        {"input": "미세먼지 나쁨", "output": "미세먼지 농도가 나쁨 수준입니다. 마스크를 착용하고 야외활동을 줄이세요."},
        {"input": "미세먼지 매우나쁨", "output": "미세먼지 매우나쁨 단계입니다. 외출을 자제하시고 실내 활동을 권장합니다."},
        {"input": "초미세먼지 위험", "output": "초미세먼지 농도가 위험 수준입니다. 노약자와 어린이는 외출을 삼가주세요."},
        {"input": "오존 경보", "output": "오존주의보가 발령되었습니다. 오후 시간대 야외활동을 자제해 주세요."},
        {"input": "폭염 경보", "output": "폭염경보가 발령되었습니다. 낮 시간 외출을 자제하고 충분한 수분을 섭취하세요."},
        {"input": "한파 주의보", "output": "한파주의보가 발령되었습니다. 체온 유지에 각별히 주의하세요."},
        {"input": "강풍 주의", "output": "강풍이 예상됩니다. 낙하물에 주의하시고 안전한 곳으로 이동하세요."},
        {"input": "호우 경보", "output": "호우경보가 발령되었습니다. 저지대 침수에 유의하시고 안전에 주의하세요."},
        {"input": "대설 주의보", "output": "대설주의보가 발령되었습니다. 교통안전에 유의하시고 외출을 자제하세요."},
        {"input": "지진 대비", "output": "지진 발생 시 탁 트인 공간으로 대피하세요. 낙하물을 조심하세요."},
    ]

    # 8. 비교 메시지 (어제 vs 오늘) (10개)
    comparison_data = [
        {"input": "어제보다 5도 상승", "output": "어제보다 기온이 많이 올랐습니다. 얇은 옷차림이 좋겠어요."},
        {"input": "어제보다 3도 하강", "output": "어제보다 쌀쌀해졌습니다. 겉옷을 챙기시면 좋겠습니다."},
        {"input": "어제와 비슷한 날씨", "output": "어제와 비슷한 날씨가 계속됩니다. 편안한 하루 보내세요."},
        {"input": "어제보다 훨씬 더움", "output": "어제보다 훨씬 더워졌습니다. 수분 섭취를 충분히 하세요."},
        {"input": "어제보다 많이 추움", "output": "어제보다 기온이 많이 떨어졌습니다. 따뜻하게 입으세요."},
    ]

    # 모든 데이터 합치기
    dataset.extend(temperature_data)
    dataset.extend(humidity_data)
    dataset.extend(combined_data)
    dataset.extend(safety_data)
    dataset.extend(general_data)
    dataset.extend(seasonal_data)
    dataset.extend(emergency_data)
    dataset.extend(comparison_data)

    return dataset


def main():
    print("학습 데이터 생성 중...")

    # 데이터 생성
    dataset = generate_training_data()

    # 섞기
    random.shuffle(dataset)

    # 학습/검증 분할 (90% / 10%)
    split_idx = int(len(dataset) * 0.9)
    train_data = dataset[:split_idx]
    val_data = dataset[split_idx:]

    # 디렉토리 생성
    os.makedirs('data', exist_ok=True)

    # 저장
    with open('data/train.jsonl', 'w', encoding='utf-8') as f:
        for item in train_data:
            f.write(json.dumps(item, ensure_ascii=False) + '\n')

    with open('data/validation.jsonl', 'w', encoding='utf-8') as f:
        for item in val_data:
            f.write(json.dumps(item, ensure_ascii=False) + '\n')

    print(f"\n데이터 생성 완료!")
    print(f"  - 전체: {len(dataset)}개")
    print(f"  - 학습: {len(train_data)}개 -> data/train.jsonl")
    print(f"  - 검증: {len(val_data)}개 -> data/validation.jsonl")

    # 샘플 출력
    print("\n생성된 데이터 샘플 (5개):")
    for i, item in enumerate(dataset[:5], 1):
        print(f"\n{i}.")
        print(f"  입력: {item['input']}")
        print(f"  출력: {item['output']}")


if __name__ == "__main__":
    main()
